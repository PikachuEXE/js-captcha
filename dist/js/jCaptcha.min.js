!function(t,a){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define([],function(){return t.jCaptcha=a()}):"object"==typeof module&&module.exports?module.exports=a():t.jCaptcha=a()}(this,function(){"use strict";var t=function(){i=Math.round(8*Math.random())+1,c=Math.round(8*Math.random())+1,e=i+c},a=function(t,a,e){!e&&t[0].insertAdjacentHTML("beforebegin",'<canvas class="jCaptchaText"></canvas>'),this.$captchaText=this.$captchaText||document.getElementsByClassName("jCaptchaText"),this.$jCaptchaTextContext=this.$jCaptchaTextContext||this.$captchaText[0].getContext("2d"),this.$captchaText[0].width=a.canvasWidth,this.$captchaText[0].height=a.canvasHeight,this.$jCaptchaTextContext.textBaseline="top",this.$jCaptchaTextContext.font=a.canvasFontSize+" "+a.canvasFontFamily,this.$jCaptchaTextContext.textAlign="left",this.$jCaptchaTextContext.fillStyle=a.canvasFillStyle,this.$jCaptchaTextContext.fillText(i+" + "+c+" "+a.requiredValue,0,0)},e=void 0,i=void 0,c=void 0,n=function(t){var a,e;this.options=t?(a=this.options,e=t,"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Object.keys(e).forEach(function(t){a[t]=e[t]}),a):this.options,this.init()};return n.prototype={options:{el:"jCaptcha",requiredValue:"*",resetOnError:!0,focusOnError:!0,clearOnSubmit:!0,canvasWidth:50,canvasHeight:15,canvasFontSize:"15px",canvasFontFamily:"Arial",canvasFillStyle:"#ddd",callback:null},init:function(){this.$captchaInput=document.getElementsByClassName(this.options.el),t(),a(this.$captchaInput,this.options)},validate:function(){this.callbackReceived=this.callbackReceived||"function"==typeof this.options.callback,this.$captchaInput[0].value!=e?(this.callbackReceived&&this.options.callback("error",this.$captchaInput),!0===this.options.resetOnError&&this.reset(),!0===this.options.focusOnError&&this.$captchaInput[0].focus()):this.callbackReceived&&this.options.callback("success",this.$captchaInput),!0===this.options.clearOnSubmit&&(this.$captchaInput[0].value="")},reset:function(){t(),a(this.$captchaInput,this.options,!0)}},n});